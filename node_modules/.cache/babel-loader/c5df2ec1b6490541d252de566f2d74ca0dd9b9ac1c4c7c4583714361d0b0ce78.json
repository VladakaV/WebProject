{"ast":null,"code":"export default {\n  data() {\n    return {\n      // form: {\n      //     name: '',           \n      //     number: '',\n      //     email: '',\n      //     message: ''\n      // },\n\n      name: '',\n      number: '',\n      email: '',\n      message: '',\n      checked: false\n    };\n  },\n  methods: {\n    formSubmit() {\n      if (this.checked == true) {\n        if (this.checkNumber(this.number)) {\n          fetch('https://formcarry.com/s/gf9XxUK37', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n              'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n              // Name: this.form.name,\n              // Number: this.form.number,\n              // Email: this.form.email,\n              // Message: this.form.message\n\n              Name: this.name,\n              Number: this.number,\n              Email: this.email,\n              Message: this.message\n            })\n          }).then(response => console.log(response)).then(data => {\n            let r = document.getElementById(\"formAnswer\");\n            r.innerHTML = \"Success!\";\n            r.style.color = \"lightgreen\";\n            localStorage.removeItem('formName');\n            localStorage.removeItem('formNumber');\n            localStorage.removeItem('formEmail');\n            localStorage.removeItem('formMessage');\n            this.name = '';\n            this.number = '';\n            this.email = '';\n            this.message = '';\n            this.checked = false;\n          }).catch(error => {\n            let r = document.getElementById(\"formAnswer\");\n            r.innerHTML = \"Error!\";\n            r.style.color = \"red\";\n            console.log(error.value);\n          });\n          ;\n        } else {\n          let r = document.getElementById(\"formAnswer\");\n          r.innerHTML = \"Неверный формат номера или недопустимые символы. Попробуйте ввести номер в формате +7(***)***-**-**\";\n          r.style.color = \"red\";\n          this.number = '+7()--';\n        }\n      } else {\n        let r = document.getElementById(\"formAnswer\");\n        r.innerHTML = \"Дайте свое согласие на отправку\";\n        r.style.color = \"coral\";\n      }\n    },\n    checkNumber(num) {\n      let regexp1 = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/;\n      if (!regexp1.test(String(num))) return false;\n      return true;\n    }\n  },\n  mounted() {\n    this.name = localStorage.formName;\n    this.number = localStorage.formNumber;\n    this.email = localStorage.formEmail;\n    this.message = localStorage.formMessage;\n  },\n  watch: {\n    // form.name(newName){}\n    name(newName) {\n      localStorage.setItem('formName', newName);\n    },\n    number(newNumber) {\n      localStorage.setItem('formNumber', newNumber);\n    },\n    email(newEmail) {\n      localStorage.setItem('formEmail', newEmail);\n    },\n    message(newMessage) {\n      localStorage.setItem('formMessage', newMessage);\n    }\n  }\n};","map":{"version":3,"mappings":"AAqCA,eAAe;EACXA,IAAI,GAAG;IACH,OAAO;MACH;MACA;MACA;MACA;MACA;MACA;;MAEAC,IAAI,EAAE,EAAE;MACRC,MAAM,EAAE,EAAE;MACVC,KAAK,EAAE,EAAE;MACTC,OAAO,EAAE,EAAE;MACXC,OAAO,EAAE;IACb;EACJ,CAAC;EAEDC,OAAO,EAAE;IACLC,UAAU,GAAG;MACT,IAAI,IAAI,CAACF,OAAM,IAAK,IAAI,EAAE;QACtB,IAAI,IAAI,CAACG,WAAW,CAAC,IAAI,CAACN,MAAM,CAAC,EAAE;UAC/BO,KAAK,CAAC,mCAAmC,EAAE;YACvCC,MAAM,EAAE,MAAM;YACdC,OAAO,EAAE;cAAE,cAAc,EAAE,kBAAkB;cAAE,QAAQ,EAAE;YAAmB,CAAC;YAC7EC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;cAEjB;cACA;cACA;cACA;;cAEAC,IAAI,EAAE,IAAI,CAACd,IAAI;cACfe,MAAM,EAAE,IAAI,CAACd,MAAM;cACnBe,KAAK,EAAE,IAAI,CAACd,KAAK;cACjBe,OAAO,EAAE,IAAI,CAACd;YAClB,CAAC;UACL,CAAC,EACIe,IAAI,CAACC,QAAO,IAAKC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,EACtCD,IAAI,CAAEnB,IAAI,IAAK;YAEZ,IAAIuB,IAAIC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;YAC7CF,CAAC,CAACG,SAAQ,GAAI,UAAU;YACxBH,CAAC,CAACI,KAAK,CAACC,KAAI,GAAI,YAAY;YAE5BC,YAAY,CAACC,UAAU,CAAC,UAAU,CAAC;YACnCD,YAAY,CAACC,UAAU,CAAC,YAAY,CAAC;YACrCD,YAAY,CAACC,UAAU,CAAC,WAAW,CAAC;YACpCD,YAAY,CAACC,UAAU,CAAC,aAAa,CAAC;YACtC,IAAI,CAAC7B,IAAG,GAAI,EAAE;YACd,IAAI,CAACC,MAAK,GAAI,EAAE;YAChB,IAAI,CAACC,KAAI,GAAI,EAAE;YACf,IAAI,CAACC,OAAM,GAAI,EAAE;YACjB,IAAI,CAACC,OAAM,GAAI,KAAK;UACxB,CAAC,EACA0B,KAAK,CAAEC,KAAK,IAAK;YACd,IAAIT,IAAIC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;YAC7CF,CAAC,CAACG,SAAQ,GAAI,QAAQ;YACtBH,CAAC,CAACI,KAAK,CAACC,KAAI,GAAI,KAAK;YACrBP,OAAO,CAACC,GAAG,CAACU,KAAK,CAACC,KAAK,CAAC;UAC5B,CAAC,CAAC;UAAC;QACX,OACK;UACD,IAAIV,IAAIC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;UAC7CF,CAAC,CAACG,SAAQ,GAAI,qGAAqG;UACnHH,CAAC,CAACI,KAAK,CAACC,KAAI,GAAI,KAAK;UACrB,IAAI,CAAC1B,MAAK,GAAI,QAAO;QACzB;MACJ,OACK;QACD,IAAIqB,IAAIC,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC;QAC7CF,CAAC,CAACG,SAAQ,GAAI,iCAAiC;QAC/CH,CAAC,CAACI,KAAK,CAACC,KAAI,GAAI,OAAO;MAC3B;IAEJ,CAAC;IAEDpB,WAAW,CAAC0B,GAAG,EAAE;MACb,IAAIC,OAAM,GAAI,qDAAqD;MACnE,IAAI,CAACA,OAAO,CAACC,IAAI,CAACC,MAAM,CAACH,GAAG,CAAC,CAAC,EAC1B,OAAO,KAAK;MAChB,OAAO,IAAI;IACf;EACJ,CAAC;EAEDI,OAAO,GAAG;IACN,IAAI,CAACrC,IAAG,GAAI4B,YAAY,CAACU,QAAQ;IACjC,IAAI,CAACrC,MAAK,GAAI2B,YAAY,CAACW,UAAU;IACrC,IAAI,CAACrC,KAAI,GAAI0B,YAAY,CAACY,SAAS;IACnC,IAAI,CAACrC,OAAM,GAAIyB,YAAY,CAACa,WAAW;EAC3C,CAAC;EAEDC,KAAK,EAAE;IACH;IACA1C,IAAI,CAAC2C,OAAO,EAAE;MACVf,YAAY,CAACgB,OAAO,CAAC,UAAU,EAAED,OAAO,CAAC;IAC7C,CAAC;IACD1C,MAAM,CAAC4C,SAAS,EAAE;MACdjB,YAAY,CAACgB,OAAO,CAAC,YAAY,EAAEC,SAAS,CAAC;IACjD,CAAC;IACD3C,KAAK,CAAC4C,QAAQ,EAAE;MACZlB,YAAY,CAACgB,OAAO,CAAC,WAAW,EAAEE,QAAQ,CAAC;IAC/C,CAAC;IACD3C,OAAO,CAAC4C,UAAU,EAAE;MAChBnB,YAAY,CAACgB,OAAO,CAAC,aAAa,EAAEG,UAAU,CAAC;IACnD;EACJ;AACJ","names":["data","name","number","email","message","checked","methods","formSubmit","checkNumber","fetch","method","headers","body","JSON","stringify","Name","Number","Email","Message","then","response","console","log","r","document","getElementById","innerHTML","style","color","localStorage","removeItem","catch","error","value","num","regexp1","test","String","mounted","formName","formNumber","formEmail","formMessage","watch","newName","setItem","newNumber","newEmail","newMessage"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\vue\\Components\\Form.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <form @submit.prevent=\"formSubmit\" class=\"popupForm d-flex flex-column align-items-stretch\"\r\n            accept-charset=\"UTF-8\">\r\n            <label>\r\n                <!-- <input type=\"text\" class=\"form_elem form_name form-control\" placeholder=\"Ваше имя\" v-model=\"form.name\"> -->\r\n                <input type=\"text\" class=\"form_elem form_name form-control\" placeholder=\"Ваше имя\" v-model=\"name\">\r\n            </label>\r\n            <label>\r\n                <!-- <input type=\"text\" class=\"form_elem form_number form-control\" placeholder=\"Ваш номер\"\r\n                    v-model=\"form.number\"> -->\r\n                <input type=\"text\" class=\"form_elem form_number form-control\" placeholder=\"Ваш номер\" v-model=\"number\">\r\n            </label>\r\n            <label>\r\n                <!-- <input type=\"email\" class=\"form_elem form_email form-control\" placeholder=\"Ваш email\"\r\n                    v-model=\"form.email\"> -->\r\n                <input type=\"email\" class=\"form_elem form_email form-control\" placeholder=\"Ваш email\" v-model=\"email\">\r\n            </label>\r\n            <label>\r\n                <!-- <textarea class=\"form_elem form_message form-control\" placeholder=\"Ваш коментарий\" rows=\"3\"\r\n                    v-model=\"form.message\"></textarea> -->\r\n                <textarea class=\"form_elem form_message form-control\" placeholder=\"Ваш коментарий\" rows=\"3\"\r\n                    v-model=\"message\"></textarea>\r\n            </label>\r\n            <label>\r\n                <input class=\"form_check\" type=\"checkbox\" v-model=\"checked\">\r\n                Отправляя заявку, я\r\n                соглашаюсь на <a href=\"/privacy-policy\">обработку моих персональных данных</a>\r\n            </label>\r\n            <input class=\"btn\" type=\"submit\" value=\"Отправить\">\r\n            <div id=\"formAnswer\" class=\"px-3 py-3\"></div>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            // form: {\r\n            //     name: '',           \r\n            //     number: '',\r\n            //     email: '',\r\n            //     message: ''\r\n            // },\r\n\r\n            name: '',\r\n            number: '',\r\n            email: '',\r\n            message: '',\r\n            checked: false\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        formSubmit() {\r\n            if (this.checked == true) {\r\n                if (this.checkNumber(this.number)) {\r\n                    fetch('https://formcarry.com/s/gf9XxUK37', {\r\n                        method: 'POST',\r\n                        headers: { 'Content-Type': 'application/json', 'Accept': 'application/json' },\r\n                        body: JSON.stringify({\r\n\r\n                            // Name: this.form.name,\r\n                            // Number: this.form.number,\r\n                            // Email: this.form.email,\r\n                            // Message: this.form.message\r\n\r\n                            Name: this.name,\r\n                            Number: this.number,\r\n                            Email: this.email,\r\n                            Message: this.message\r\n                        })\r\n                    })\r\n                        .then(response => console.log(response))\r\n                        .then((data) => {\r\n\r\n                            let r = document.getElementById(\"formAnswer\");\r\n                            r.innerHTML = \"Success!\";\r\n                            r.style.color = \"lightgreen\";\r\n                            \r\n                            localStorage.removeItem('formName');\r\n                            localStorage.removeItem('formNumber');\r\n                            localStorage.removeItem('formEmail');\r\n                            localStorage.removeItem('formMessage');\r\n                            this.name = '';\r\n                            this.number = '';\r\n                            this.email = '';\r\n                            this.message = '';\r\n                            this.checked = false;\r\n                        })\r\n                        .catch((error) => {\r\n                            let r = document.getElementById(\"formAnswer\");\r\n                            r.innerHTML = \"Error!\";\r\n                            r.style.color = \"red\";\r\n                            console.log(error.value);\r\n                        });;\r\n                }\r\n                else {\r\n                    let r = document.getElementById(\"formAnswer\");\r\n                    r.innerHTML = \"Неверный формат номера или недопустимые символы. Попробуйте ввести номер в формате +7(***)***-**-**\";\r\n                    r.style.color = \"red\";\r\n                    this.number = '+7()--'\r\n                }\r\n            }\r\n            else {\r\n                let r = document.getElementById(\"formAnswer\");\r\n                r.innerHTML = \"Дайте свое согласие на отправку\";\r\n                r.style.color = \"coral\";\r\n            }\r\n\r\n        },\r\n\r\n        checkNumber(num) {\r\n            let regexp1 = /^((8|\\+7)[\\- ]?)?(\\(?\\d{3}\\)?[\\- ]?)?[\\d\\- ]{7,10}$/;\r\n            if (!regexp1.test(String(num)))\r\n                return false;\r\n            return true;\r\n        }\r\n    },\r\n\r\n    mounted() {\r\n        this.name = localStorage.formName;\r\n        this.number = localStorage.formNumber;\r\n        this.email = localStorage.formEmail;\r\n        this.message = localStorage.formMessage;\r\n    },\r\n\r\n    watch: {\r\n        // form.name(newName){}\r\n        name(newName) {\r\n            localStorage.setItem('formName', newName);\r\n        },\r\n        number(newNumber) {\r\n            localStorage.setItem('formNumber', newNumber);\r\n        },\r\n        email(newEmail) {\r\n            localStorage.setItem('formEmail', newEmail);\r\n        },\r\n        message(newMessage) {\r\n            localStorage.setItem('formMessage', newMessage);\r\n        }\r\n    }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}